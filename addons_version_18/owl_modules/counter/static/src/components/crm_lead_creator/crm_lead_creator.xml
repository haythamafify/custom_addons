<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="counter.CRMLeadCreator">
        <div class="container mt-5">
            <div class="row">
                <!-- Form Section -->
                <div class="col-md-6">
                    <div class="card shadow">
                        <div class="card-header bg-success text-white">
                            <h4>๐ ุฅูุดุงุก Lead ุฌุฏูุฏ</h4>
                        </div>
                        
                        <div class="card-body">
                            <form>
                                <!-- ุงุณู ุงูุนููู -->
                                <div class="mb-3">
                                    <label class="form-label fw-bold">ุงุณู ุงูุนููู *</label>
                                    <input 
                                        type="text" 
                                        class="form-control" 
                                        placeholder="ูุซุงู: ุนููู ุฌุฏูุฏ - ุดุฑูุฉ ABC"
                                        t-att-value="state.formData.name"
                                        t-on-input="(ev) => this.updateField('name', ev)"
                                        t-att-disabled="state.loading"/>
                                </div>
                                
                                <!-- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู -->
                                <div class="mb-3">
                                    <label class="form-label fw-bold">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู *</label>
                                    <input 
                                        type="email" 
                                        class="form-control" 
                                        placeholder="ูุซุงู: customer@example.com"
                                        t-att-value="state.formData.email_from"
                                        t-on-input="(ev) => this.updateField('email_from', ev)"
                                        t-att-disabled="state.loading"/>
                                </div>
                                
                                <!-- ุฑูู ุงููุงุชู -->
                                <div class="mb-3">
                                    <label class="form-label fw-bold">ุฑูู ุงููุงุชู *</label>
                                    <input 
                                        type="text" 
                                        class="form-control" 
                                        placeholder="ูุซุงู: 01234567890"
                                        t-att-value="state.formData.phone"
                                        t-on-input="(ev) => this.updateField('phone', ev)"
                                        t-att-disabled="state.loading"/>
                                </div>
                                
                                <!-- ุงุณู ุฌูุฉ ุงูุงุชุตุงู -->
                                <div class="mb-3">
                                    <label class="form-label fw-bold">ุงุณู ุฌูุฉ ุงูุงุชุตุงู *</label>
                                    <input 
                                        type="text" 
                                        class="form-control" 
                                        placeholder="ูุซุงู: ุฃุญูุฏ ูุญูุฏ"
                                        t-att-value="state.formData.contact_name"
                                        t-on-input="(ev) => this.updateField('contact_name', ev)"
                                        t-att-disabled="state.loading"/>
                                </div>
                                
                                <!-- Buttons -->
                                <div class="d-flex gap-2">
                                    <button 
                                        type="button"
                                        class="btn btn-success flex-fill" 
                                        t-on-click="createLead"
                                        t-att-disabled="state.loading">
                                        <i class="fa fa-plus-circle"></i>
                                        <t t-if="state.loading"> ุฌุงุฑู ุงูุฅูุดุงุก...</t>
                                        <t t-else=""> ุฅูุดุงุก Lead</t>
                                    </button>
                                    
                                    <button 
                                        type="button"
                                        class="btn btn-secondary" 
                                        t-on-click="clearForm"
                                        t-att-disabled="state.loading">
                                        <i class="fa fa-eraser"></i>
                                        ูุณุญ
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- Latest Lead Section -->
                <div class="col-md-6">
                    <div class="card shadow">
                        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                            <h4>๐ ุขุฎุฑ Lead ุชู ุฅูุดุงุคู</h4>
                            <button 
                                class="btn btn-light btn-sm" 
                                t-on-click="loadLatestLead"
                                t-att-disabled="state.loading">
                                <i class="fa fa-refresh"></i>
                                ุชุญุฏูุซ
                            </button>
                        </div>
                        
                        <div class="card-body">
                            <!-- ุนุฑุถ ุขุฎุฑ Lead -->
                            <div t-if="state.latestLead">
                                <table class="table table-bordered">
                                    <tbody>
                                        <tr>
                                            <th class="bg-light" style="width: 40%">ุงูุฑูู</th>
                                            <td><t t-esc="state.latestLead.id"/></td>
                                        </tr>
                                        <tr>
                                            <th class="bg-light">ุงูุงุณู</th>
                                            <td><t t-esc="state.latestLead.name"/></td>
                                        </tr>
                                        <tr>
                                            <th class="bg-light">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
                                            <td><t t-esc="state.latestLead.email_from"/></td>
                                        </tr>
                                        <tr>
                                            <th class="bg-light">ุงููุงุชู</th>
                                            <td><t t-esc="state.latestLead.phone"/></td>
                                        </tr>
                                        <tr>
                                            <th class="bg-light">ุงุณู ุฌูุฉ ุงูุงุชุตุงู</th>
                                            <td><t t-esc="state.latestLead.contact_name"/></td>
                                        </tr>
                                        <tr>
                                            <th class="bg-light">ุชุงุฑูุฎ ุงูุฅูุดุงุก</th>
                                            <td><t t-esc="state.latestLead.create_date"/></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <!-- ุฑุณุงูุฉ ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ Leads -->
                            <div t-else="" class="alert alert-info">
                                <i class="fa fa-info-circle"></i>
                                ูุง ุชูุฌุฏ Leads ุญุงููุงู. ูู ุจุฅูุดุงุก Lead ุฌุฏูุฏ ูู ุงููููุฐุฌ ุนูู ุงููุณุงุฑ.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>
</templates>